<div id="task-stream">
	<h4>Task List</h4>
		<div class="task">
            <table class="table table-bordered table-hover table-responsive">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Author</th>
                        <th>Created Date</th>
                        <th>Description</th>
                        <th>Pilot</th>
                        <th>Close Date</th>
                        <th>Operation</th>
                    </tr>
                </thead>
                <tbody>
					<!-- here is only for test>
					<tr>
						<td>{{task.id}}</td>
                        <td>{{task.created_by}}</td>
                        <td>{{task.created_at}}</td>
                        <td>{{task.text}}</td>
                        <td>{{task.pilot}}</td>
					<tr>
					-->
					
                    <tr ng-repeat="task in tasks | orderBy:'created_at':ture"*/>
                        <td>{{tasks.indexOf(task) + 1}}</td>
                        <td>{{task.created_by}}</td>
                        <td>{{task.created_at | date:"yyyy/MM/dd"}}</td>
                        <td>{{task.text}}</td>
                        <td>{{task.pilot}}</td>
                        <td>{{task.closeDate | date:"yyyy/MM/dd"}}</td>
                        <td>
                            <a class="btn btn-primary btn-sm" ng-click="delTask(task)" ng-show="authenticated">Delete</a>
                            <a class="btn btn-primary btn-sm" ng-click="updateTask(task)" ng-show="authenticated">Update</a>
                    
                        </td>
                    </tr>
					
                </tbody>
            </table>
		</div>
</div>

<div id="publish_task" ng-hide="modifyTask._id">
	<form name="taskForm1" ng-Submit="taskForm1.$valid && pTask()" ng-show="authenticated" novalidate> <!--if submit, use task() -->
		<h2>Publish a task</h2>
		<form role="form">
			<div class="form-group">
				<label for="task">Task description:</label>
				<textarea class="form-control" placeholder="Write a description for a task" maxlength="200" rows="3" ng-model="newTask.text" required></textarea>
			</div>
			<div class="form-group">
				<label for="pilot">Pilot</label>
				<input type="polit" class="form-control" id="pilot" placeholder="Publish to" ng-model="newTask.pilot" required>
			</div>
			<div class="checkbox">
				<label><input type="checkbox"> Notify polit</label>
			</div>
			<button type="submit" class="btn btn-default">Submit</button>
		</form>
	</form>
 </div>

<div ng-show="modifyTask._id" id="modify_task">
	<form name="taskForm2" ng-Submit="taskForm2.$valid && update()" ng-show="authenticated" novalidate>
        <h2>Update a task</h2>
		<form role="form">
			<div class="form-group">
				<label for="task">Task description:</label>
				<textarea class="form-control" placeholder="Write a description for a task" maxlength="200" rows="3" ng-model="modifyTask.text" required></textarea>
			</div>
			<div class="form-group">
				<label for="pilot">Pilot</label>
				<input type="polit" class="form-control" id="pilot" placeholder="Publish to" ng-model="modifyTask.pilot" required>
			</div>
			<div class="checkbox">
				<label><input type="checkbox"> Notify polit</label>
			</div>
            <button type="submit" class="btn btn-default">Update</button>
		</form>
	</form>
 </div>

		
